let e;function t(e,t){for(let[n,a]of(null==e&&(e={}),Object.entries(t)))e.hasOwnProperty(n)||(e[n]=a);return e}Array.prototype.removeValue=function(e){let t=this.indexOf(e);-1!=t&&this.splice(t,1)};const n=document.querySelector(".header"),a=document.querySelector(".placeholder"),r=document.querySelector(".header__hamburger--js"),s=document.querySelector(".header__nav--js"),l=document.querySelector(".main__add--js"),d=document.querySelector(".main__clear--js"),o=document.querySelector(".main__creator"),i=document.querySelector(".close--js"),c=document.querySelector(".creator__input--js"),u=document.querySelector(".columnHolder"),m=document.querySelector(".creator__submit--js"),p=document.querySelector(".task__editor--text"),L=document.querySelector(".nav--savebutton--js"),k=document.querySelector(".nav--loadbutton--js"),v=document.querySelector(".deleteIcon"),_=document.querySelector(".moveIcon"),h=document.querySelector(".editIcon");let E=[];L.addEventListener("click",()=>{let e=JSON.stringify(E);localStorage.setItem("data",e)}),k.addEventListener("click",()=>{u.innerHTML="",E.splice(0),JSON.parse(localStorage.getItem("data")).forEach(e=>{C(e)})}),r.addEventListener("click",()=>{s.classList.toggle("visible"),s.prepend(r),n.prepend(a),"header__nav header__nav--js"==s.classList&&(n.prepend(r),s.prepend(a))}),l.addEventListener("click",()=>{o.classList.toggle("visibleCreator")}),i.addEventListener("click",()=>{o.classList.remove("visibleCreator")});let g=[],y=[];class f{constructor(e,t,n,a,r,s,l){this.newColumn=e,this.colHeader=t,this.colList=a,this.flexDiv=n,this.taskArea=r,this.deleteButton=s,this.columnData=l}}class b{constructor(e,t,n,a,r,s){this.newTask=e,this.taskDescription=t,this.moveButton=n,this.deleteButton=a,this.flexDiv=r,this.taskData=s}}function S(n,a){let r=t(a,{description:""}),s=document.createElement("section"),l=document.createElement("span"),d=document.createElement("button"),o=document.createElement("button"),i=document.createElement("button"),c=document.createElement("div");s.taskData=r,i.innerHTML=h.innerHTML,d.innerHTML=_.innerHTML,o.innerHTML=v.innerHTML,i.classList.add("task__edit"),c.appendChild(i),c.appendChild(o),c.appendChild(d),c.classList.add("task__flex"),s.appendChild(l),s.appendChild(c),l.innerText=r.description,o.addEventListener("click",e=>{e.currentTarget.parentElement.parentElement.remove(),n.removeValue(r)}),s.setAttribute("draggable","true"),s.addEventListener("dragstart",t=>{(e=t.currentTarget).taskPreviousDataContainer=n,e.taskData=r}),d.addEventListener("click",()=>{let e=document.querySelector(".task__move--list");e.classList.toggle("taskEditorOpened");let t=d.parentElement.parentElement;if("task__move--list taskEditorOpened"==e.classList){e.append(d);let a=document.querySelector(".move__list");!function(e,t,n,a){for(let r=0;r<g.length;r++){let s=document.createElement("button");s.classList.add("move__list--button"),s.innerHTML=g[r].flexDiv.children[0].innerHTML,s.addEventListener("click",()=>{let e=g[r].taskArea.firstChild;g[r].taskArea.insertBefore(t,e.nextSibling),n.removeValue(a),g[r].columnData.taskList.push(a)}),e.append(s)}}(a,t,n,r)}else{c.append(d);let e=document.querySelector(".move__list");e.innerHTML=""}}),i.addEventListener("click",()=>{let e=document.querySelector(".task__editor");e.classList.toggle("taskEditorOpened"),"task__editor taskEditorOpened"==e.classList?e.append(i):(c.prepend(i),l.innerHTML=p.value,r.description=p.value,p.value="")});let u=new b(s,l,d,o,c,r);return u.newTask.classList.add("task"),u.taskDescription.classList.add("task__description"),u.moveButton.classList.add("task__move"),u.deleteButton.classList.add("task__delete"),y.push(u.newTask),u}function C(n){let a=function(n){let a=t(n,{name:"",taskList:[]}),r=document.createElement("section"),s=document.createElement("div"),l=document.createElement("h3"),o=document.createElement("button"),i=document.createElement("section"),c=document.createElement("button");r.columnData=a,o.innerText=">",l.innerText=a.name,a.name=a.name;let m=document.createElement("button");m.classList.add("column__task"),m.innerText="Add task",c.innerHTML=v.innerHTML+"Delete column",i.appendChild(m),i.appendChild(c),s.appendChild(l),s.appendChild(o),r.appendChild(s),r.appendChild(i),m.addEventListener("click",e=>{let t=S(a.taskList);a.taskList.push(t.taskData);let n=e.target.parentElement;n.prepend(t.newTask),n.prepend(e.target)}),c.addEventListener("click",e=>{e.currentTarget.parentElement.parentElement.remove(),E.removeValue(a),0==u.childElementCount&&(d.style.display="none")}),o.addEventListener("click",()=>{o.classList.toggle("opened"),i.classList.toggle("taskOpen")}),i.addEventListener("dragover",e=>{e.preventDefault()}),i.addEventListener("dragenter",()=>{r.style.backgroundColor="rgba(170, 204, 206, 0.579)"}),i.addEventListener("dragleave",()=>{r.style.backgroundColor="rgba(208, 251, 254, 0.579)"}),i.addEventListener("drop",t=>{t.preventDefault(),r.style.backgroundColor="rgba(208, 251, 254, 0.579)",t.currentTarget.insertBefore(e,t.currentTarget.lastChild),e.taskPreviousDataContainer.removeValue(e.taskData),a.taskList.push(e.taskData)}),a.taskList.forEach(e=>{let t=S(a.taskList,e);i.prepend(t.newTask),i.prepend(m)});let p=new f(r,l,s,o,i,c,a);return p.newColumn.classList.add("main__column"),p.colList.classList.add("main__column--button"),p.taskArea.classList.add("main__column--task"),p.flexDiv.classList.add("column__flex"),p.colHeader.classList.add("column__flex--header"),p.deleteButton.classList.add("column__flex--deleteButton"),g.push(p),p}(n);E.push(a.columnData),u.appendChild(a.newColumn),u.childElementCount>0&&(d.style.display="block")}if(m.addEventListener("click",()=>{C({name:c.value}),c.value=""}),d.addEventListener("click",()=>{let e=document.querySelectorAll(".main__column");e.forEach(e=>{e.remove(),g=[]}),d.style.display="none"}),window.innerWidth>800){let e=document.querySelector(".main__buttonsFlex");n.appendChild(e)}
//# sourceMappingURL=index.7821a7a5.js.map
