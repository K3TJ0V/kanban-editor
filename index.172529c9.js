let e;function t(e,t){for(let[n,a]of(null==e&&(e={}),Object.entries(t)))e.hasOwnProperty(n)||(e[n]=a);return e}Array.prototype.removeValue=function(e){let t=this.indexOf(e);-1!=t&&this.splice(t,1)};const n=document.querySelector(".header"),a=document.querySelector(".placeholder"),r=document.querySelector(".header__hamburger--js"),s=document.querySelector(".header__nav--js"),l=document.querySelector(".main__add--js"),d=document.querySelector(".main__clear--js"),o=document.querySelector(".main__creator"),c=document.querySelector(".close--js"),i=document.querySelector(".creator__input--js");document.querySelector(".main");const u=document.querySelector(".columnHolder"),m=document.querySelector(".creator__submit--js"),p=document.querySelector(".task__editor--text"),k=document.querySelector(".nav--savebutton--js"),v=document.querySelector(".nav--loadbutton--js"),L=document.querySelector(".deleteIcon"),_=document.querySelector(".moveIcon"),h=document.querySelector(".editIcon");let E=[];k.addEventListener("click",()=>{let e=JSON.stringify(E);localStorage.setItem("data",e)}),v.addEventListener("click",()=>{u.innerHTML="",E.splice(0),JSON.parse(localStorage.getItem("data")).forEach(e=>{S(e)})}),r.addEventListener("click",()=>{s.classList.toggle("visible"),s.prepend(r),n.prepend(a),"header__nav header__nav--js"==s.classList&&(n.prepend(r),s.prepend(a))}),l.addEventListener("click",()=>{o.classList.toggle("visibleCreator")}),c.addEventListener("click",()=>{o.classList.remove("visibleCreator")});let g=[],y=[];class T{constructor(e,t,n,a,r,s,l){this.newColumn=e,this.colHeader=t,this.colList=a,this.flexDiv=n,this.taskArea=r,this.deleteButton=s,this.columnData=l}}class C{constructor(e,t,n,a,r,s){this.newTask=e,this.taskDescription=t,this.moveButton=n,this.deleteButton=a,this.flexDiv=r,this.taskData=s}}function f(n,a){var r;let s=t(a,{description:""}),l=document.createElement("section"),d=document.createElement("span"),o=document.createElement("button"),c=document.createElement("button"),i=document.createElement("button"),u=document.createElement("div");return l.taskData=s,i.innerHTML=h.innerHTML,o.innerHTML=_.innerHTML,c.innerHTML=L.innerHTML,i.classList.add("task__edit"),u.appendChild(i),u.appendChild(c),u.appendChild(o),u.classList.add("task__flex"),l.appendChild(d),l.appendChild(u),d.innerText=s.description,c.addEventListener("click",e=>{e.currentTarget.parentElement.parentElement.remove(),n.removeValue(s)}),l.setAttribute("draggable","true"),l.addEventListener("dragstart",t=>{(e=t.currentTarget).taskPreviousDataContainer=n,e.taskData=s}),o.addEventListener("click",()=>{let e=document.querySelector(".task__move--list");e.classList.toggle("taskEditorOpened");let t=o.parentElement.parentElement;if("task__move--list taskEditorOpened"==e.classList){e.append(o);let a=document.querySelector(".move__list");!function(e,t,n,a){for(let r=0;r<g.length;r++){let s=document.createElement("button");s.classList.add("move__list--button"),s.innerHTML=g[r].flexDiv.children[0].innerHTML,s.addEventListener("click",()=>{let e=g[r].taskArea.firstChild;g[r].taskArea.insertBefore(t,e.nextSibling),n.removeValue(a),g[r].columnData.taskList.push(a)}),e.append(s)}}(a,t,n,s)}else{u.append(o);let e=document.querySelector(".move__list");e.innerHTML=""}}),i.addEventListener("click",()=>{let e=document.querySelector(".task__editor");e.classList.toggle("taskEditorOpened"),"task__editor taskEditorOpened"==e.classList?e.append(i):(u.prepend(i),d.innerHTML=p.value,s.description=p.value,p.value="")}),(r=Task=new C(l,d,o,c,u,s)).newTask.classList.add("task"),r.taskDescription.classList.add("task__description"),r.moveButton.classList.add("task__move"),r.deleteButton.classList.add("task__delete"),y.push(Task.newTask),Task}function S(n){let a=function(n){var a;let r=t(n,{name:"",taskList:[]}),s=document.createElement("section"),l=document.createElement("div"),o=document.createElement("h3"),c=document.createElement("button"),i=document.createElement("section"),m=document.createElement("button");s.columnData=r,c.innerText=">",o.innerText=r.name,r.name=r.name;let p=document.createElement("button");return p.classList.add("column__task"),p.innerText="Add task",m.innerHTML=L.innerHTML+"Delete column",i.appendChild(p),i.appendChild(m),l.appendChild(o),l.appendChild(c),s.appendChild(l),s.appendChild(i),p.addEventListener("click",e=>{let t=f(r.taskList);r.taskList.push(t.taskData);let n=e.target.parentElement;n.prepend(t.newTask),n.prepend(e.target)}),m.addEventListener("click",e=>{e.currentTarget.parentElement.parentElement.remove(),E.removeValue(r),0==u.childElementCount&&(d.style.display="none")}),c.addEventListener("click",()=>{c.classList.toggle("opened"),i.classList.toggle("taskOpen")}),i.addEventListener("dragover",e=>{e.preventDefault()}),i.addEventListener("dragenter",()=>{s.style.backgroundColor="rgba(170, 204, 206, 0.579)"}),i.addEventListener("dragleave",()=>{s.style.backgroundColor="rgba(208, 251, 254, 0.579)"}),i.addEventListener("drop",t=>{t.preventDefault(),s.style.backgroundColor="rgba(208, 251, 254, 0.579)",t.currentTarget.insertBefore(e,t.currentTarget.lastChild),e.taskPreviousDataContainer.removeValue(e.taskData),r.taskList.push(e.taskData)}),r.taskList.forEach(e=>{newTask=f(r.taskList,e),i.prepend(newTask.newTask),i.prepend(p)}),(a=Column=new T(s,o,l,c,i,m,r)).newColumn.classList.add("main__column"),a.colList.classList.add("main__column--button"),a.taskArea.classList.add("main__column--task"),a.flexDiv.classList.add("column__flex"),a.colHeader.classList.add("column__flex--header"),a.deleteButton.classList.add("column__flex--deleteButton"),g.push(Column),Column}(n);E.push(a.columnData),u.appendChild(a.newColumn),u.childElementCount>0&&(d.style.display="block")}if(m.addEventListener("click",()=>{S({name:i.value}),i.value=""}),d.addEventListener("click",()=>{let e=document.querySelectorAll(".main__column");e.forEach(e=>{e.remove(),g=[]}),d.style.display="none"}),window.innerWidth>800){let e=document.querySelector(".main__buttonsFlex");n.appendChild(e)}
//# sourceMappingURL=index.172529c9.js.map
