(()=>{function e(e,t){null==e&&(e={});for(let[n,a]of Object.entries(t))e.hasOwnProperty(n)||(e[n]=a);return e}Array.prototype.removeValue=function(e){let t=this.indexOf(e);-1!=t&&this.splice(t,1)};const t=document.querySelector(".header"),n=document.querySelector(".placeholder"),a=document.querySelector(".header__hamburger--js"),s=document.querySelector(".header__nav--js"),r=document.querySelector(".main__add--js"),l=document.querySelector(".main__clear--js"),o=document.querySelector(".main__creator"),d=document.querySelector(".close--js"),c=document.querySelector(".creator__input--js"),i=(document.querySelector(".main"),document.querySelector(".columnHolder")),u=document.querySelector(".creator__submit--js"),m=document.querySelector(".task__editor--text"),p=document.querySelector(".nav--savebutton--js"),k=document.querySelector(".nav--loadbutton--js"),v=document.querySelector(".deleteIcon"),L=document.querySelector(".moveIcon"),_=document.querySelector(".editIcon");let h,E=[];p.addEventListener("click",(()=>{let e=JSON.stringify(E);localStorage.setItem("data",e)})),k.addEventListener("click",(()=>{i.innerHTML="",E.splice(0);let e=localStorage.getItem("data");JSON.parse(e).forEach((e=>{S(e)}))})),a.addEventListener("click",(()=>{s.classList.toggle("visible"),s.prepend(a),t.prepend(n),"header__nav header__nav--js"==s.classList&&(t.prepend(a),s.prepend(n))})),r.addEventListener("click",(()=>{o.classList.toggle("visibleCreator")})),d.addEventListener("click",(()=>{o.classList.remove("visibleCreator")}));let g=[],y=[];class T{constructor(e,t,n,a,s,r,l){this.newColumn=e,this.colHeader=t,this.colList=a,this.flexDiv=n,this.taskArea=s,this.deleteButton=r,this.columnData=l}}class C{constructor(e,t,n,a,s,r){this.newTask=e,this.taskDescription=t,this.moveButton=n,this.deleteButton=a,this.flexDiv=s,this.taskData=r}}function f(t,n){let a=e(n,{description:""});const s=document.createElement("section"),r=document.createElement("span"),l=document.createElement("button"),o=document.createElement("button"),d=document.createElement("button"),c=document.createElement("div");var i;return s.taskData=a,d.innerHTML=_.innerHTML,l.innerHTML=L.innerHTML,o.innerHTML=v.innerHTML,d.classList.add("task__edit"),c.appendChild(d),c.appendChild(o),c.appendChild(l),c.classList.add("task__flex"),s.appendChild(r),s.appendChild(c),r.innerText=a.description,o.addEventListener("click",(e=>{e.currentTarget.parentElement.parentElement.remove(),t.removeValue(a)})),s.setAttribute("draggable","true"),s.addEventListener("dragstart",(e=>{h=e.currentTarget,h.taskPreviousDataContainer=t,h.taskData=a})),l.addEventListener("click",(()=>{const e=document.querySelector(".task__move--list");e.classList.toggle("taskEditorOpened");let n=l.parentElement.parentElement;if("task__move--list taskEditorOpened"==e.classList){e.append(l);!function(e,t,n,a){for(let s=0;s<g.length;s++){const r=document.createElement("button");r.classList.add("move__list--button"),r.innerHTML=g[s].flexDiv.children[0].innerHTML,r.addEventListener("click",(()=>{let e=g[s].taskArea.firstChild;g[s].taskArea.insertBefore(t,e.nextSibling),n.removeValue(a),g[s].columnData.taskList.push(a)})),e.append(r)}}(document.querySelector(".move__list"),n,t,a)}else{c.append(l);document.querySelector(".move__list").innerHTML=""}})),d.addEventListener("click",(()=>{const e=document.querySelector(".task__editor");e.classList.toggle("taskEditorOpened"),"task__editor taskEditorOpened"==e.classList?e.append(d):(c.prepend(d),r.innerHTML=m.value,a.description=m.value,m.value="")})),Task=new C(s,r,l,o,c,a),(i=Task).newTask.classList.add("task"),i.taskDescription.classList.add("task__description"),i.moveButton.classList.add("task__move"),i.deleteButton.classList.add("task__delete"),y.push(Task.newTask),Task}function S(t){let n=function(t){let n=e(t,{name:"",taskList:[]});const a=document.createElement("section"),s=document.createElement("div"),r=document.createElement("h3"),o=document.createElement("button"),d=document.createElement("section"),c=document.createElement("button");a.columnData=n,o.innerText=">",r.innerText=n.name,n.name=n.name;const u=document.createElement("button");var m;return u.classList.add("column__task"),u.innerText="Add task",c.innerHTML=v.innerHTML+"Delete column",d.appendChild(u),d.appendChild(c),s.appendChild(r),s.appendChild(o),a.appendChild(s),a.appendChild(d),u.addEventListener("click",(e=>{let t=f(n.taskList);n.taskList.push(t.taskData);let a=e.target.parentElement;a.prepend(t.newTask),a.prepend(e.target)})),c.addEventListener("click",(e=>{e.currentTarget.parentElement.parentElement.remove(),E.removeValue(n),0==i.childElementCount&&(l.style.display="none")})),o.addEventListener("click",(()=>{o.classList.toggle("opened"),d.classList.toggle("taskOpen")})),d.addEventListener("dragover",(e=>{e.preventDefault()})),d.addEventListener("dragenter",(()=>{a.style.backgroundColor="rgba(170, 204, 206, 0.579)"})),d.addEventListener("dragleave",(()=>{a.style.backgroundColor="rgba(208, 251, 254, 0.579)"})),d.addEventListener("drop",(e=>{e.preventDefault(),a.style.backgroundColor="rgba(208, 251, 254, 0.579)",e.currentTarget.insertBefore(h,e.currentTarget.lastChild),h.taskPreviousDataContainer.removeValue(h.taskData),n.taskList.push(h.taskData)})),n.taskList.forEach((e=>{newTask=f(n.taskList,e),d.prepend(newTask.newTask),d.prepend(u)})),Column=new T(a,r,s,o,d,c,n),(m=Column).newColumn.classList.add("main__column"),m.colList.classList.add("main__column--button"),m.taskArea.classList.add("main__column--task"),m.flexDiv.classList.add("column__flex"),m.colHeader.classList.add("column__flex--header"),m.deleteButton.classList.add("column__flex--deleteButton"),g.push(Column),Column}(t);E.push(n.columnData),i.appendChild(n.newColumn),i.childElementCount>0&&(l.style.display="block")}if(u.addEventListener("click",(()=>{S({name:c.value}),c.value=""})),l.addEventListener("click",(()=>{document.querySelectorAll(".main__column").forEach((e=>{e.remove(),g=[]})),l.style.display="none"})),window.innerWidth>800){const e=document.querySelector(".main__buttonsFlex");t.appendChild(e)}})();
//# sourceMappingURL=main.js.map
